/* empty css             *//* empty css                     */import{_ as j,r as y,h as M,c as i,a,b as c,w as p,u as w,F as f,i as x,E as A,o as u,e as d,t as m,f as B,g as D}from"./index-DYh4OMqa.js";import{i as N}from"./request-C08gkA4w.js";const P={class:"Header"},V={class:"header"},$={class:"list"},b=["onClick"],F=["src"],G={class:"right"},H={class:"title"},L={class:"risk_value"},T={__name:"index",setup(U){const l=B();var h=y([]),v=y("3");const S=e=>{console.log(e),v.value=e,e==1?l.push("/Main"):e==2?l.push("/Categories"):e==3?l.push("/Application"):e==4&&l.push("/Sensors")},k=async()=>{try{const e=await N.get("/api/get_all_apps");console.log(e.data);const s=e.data.reduce(async(t,o)=>{const r=await t,_=await E(o.id);o.imageSrc=_,console.log(o);const n=r.find(g=>g.type===o.category);return n?n.list.push(o):r.push({type:o.category,list:[o]}),r},Promise.resolve([]));h.value=await s}catch(e){console.error("Error fetching apps:",e)}},E=async e=>{const s=`http://47.90.217.63:8000/logo/${e}.jpg`,t=`http://47.90.217.63:8000/logo/${e}.png`;return await I(s)?s:t},I=e=>new Promise(s=>{const t=new Image;t.onload=()=>s(!0),t.onerror=()=>s(!1),t.src=e}),C=e=>{l.push({path:"/appDetail",query:{searchText:e.id,type:"id"}})};return M(()=>{k()}),(e,s)=>{const t=D,o=A;return u(),i(f,null,[a("div",P,[s[4]||(s[4]=a("div",{class:"logo"},null,-1)),c(o,{"default-active":w(v),class:"el-menu-demo",mode:"horizontal",onSelect:S,style:{width:"80%"}},{default:p(()=>[c(t,{index:"1"},{default:p(()=>s[0]||(s[0]=[d("Home")])),_:1}),c(t,{index:"2"},{default:p(()=>s[1]||(s[1]=[d("Categories")])),_:1}),c(t,{index:"3"},{default:p(()=>s[2]||(s[2]=[d("Applications")])),_:1}),c(t,{index:"4"},{default:p(()=>s[3]||(s[3]=[d("Sensors/Permission Data")])),_:1})]),_:1},8,["default-active"])]),(u(!0),i(f,null,x(w(h),(r,_)=>(u(),i("div",{class:"Game",key:_},[a("div",V,m(r.type),1),a("div",$,[(u(!0),i(f,null,x(r.list,(n,g)=>(u(),i("div",{class:"list_one",key:g,onClick:q=>C(n)},[a("img",{src:n.imageSrc,alt:""},null,8,F),a("div",G,[a("div",H,m(n.new_names),1),a("div",L,m(n.risk_score),1)])],8,b))),128))])]))),128))],64)}}},O=j(T,[["__scopeId","data-v-89b577e3"]]);export{O as default};
