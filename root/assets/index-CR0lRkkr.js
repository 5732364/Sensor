/* empty css             *//* empty css                     */import{_ as j,r as y,h as M,c as i,a,b as c,w as d,u as x,F as m,i as w,E as b,o as p,e as u,t as v,f as A,g as B}from"./index-DnrXISIx.js";import{i as D}from"./request-C08gkA4w.js";const N={class:"Header"},P={style:{"background-color":"#f5f7fb","padding-top":"30px"}},V={class:"header"},$={class:"list"},F=["onClick"],G=["src"],H={class:"right"},L={class:"title"},T={class:"risk_value"},U={__name:"index",setup(q){const r=A();var g=y([]),h=y("3");const k=e=>{console.log(e),h.value=e,e==1?r.push("/Main"):e==2?r.push("/Categories"):e==3?r.push("/Application"):e==4&&r.push("/Sensors")},S=async()=>{try{const e=await D.get("/api/get_all_apps");console.log(e.data);const s=e.data.reduce(async(t,o)=>{const l=await t,_=await E(o.id);o.imageSrc=_,console.log(o);const n=l.find(f=>f.type===o.category);return n?n.list.push(o):l.push({type:o.category,list:[o]}),l},Promise.resolve([]));g.value=await s,console.log(g.value)}catch{}},E=async e=>{const s=`http://47.90.217.63:8000/logo/${e}.jpg`,t=`http://47.90.217.63:8000/logo/${e}.png`;return await I(s)?s:t},I=e=>new Promise(s=>{const t=new Image;t.onload=()=>s(!0),t.onerror=()=>s(!1),t.src=e}),C=e=>{r.push({path:"/appDetail",query:{searchText:e.id,type:"id",page:"3"}})};return M(()=>{S()}),(e,s)=>{const t=B,o=b;return p(),i(m,null,[a("div",N,[s[4]||(s[4]=a("div",{class:"logo"},null,-1)),c(o,{"default-active":x(h),class:"el-menu-demo",mode:"horizontal",onSelect:k,style:{width:"80%"}},{default:d(()=>[c(t,{index:"1"},{default:d(()=>s[0]||(s[0]=[u("Home")])),_:1}),c(t,{index:"2"},{default:d(()=>s[1]||(s[1]=[u("Categories")])),_:1}),c(t,{index:"3"},{default:d(()=>s[2]||(s[2]=[u("Applications")])),_:1}),c(t,{index:"4"},{default:d(()=>s[3]||(s[3]=[u("Sensors/Permission Data")])),_:1})]),_:1},8,["default-active"])]),a("div",P,[(p(!0),i(m,null,w(x(g),(l,_)=>(p(),i("div",{class:"Game",key:_},[a("div",V,v(l.type),1),a("div",$,[(p(!0),i(m,null,w(l.list,(n,f)=>(p(),i("div",{class:"list_one",key:f,onClick:z=>C(n)},[a("img",{src:n.imageSrc,alt:""},null,8,G),a("div",H,[a("div",L,v(n.new_names),1),a("div",T,v(n.risk_score),1)])],8,F))),128))])]))),128))])],64)}}},Q=j(U,[["__scopeId","data-v-6121d922"]]);export{Q as default};
